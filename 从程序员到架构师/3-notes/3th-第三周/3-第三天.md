# 第三天

```
mysql 表设计
```

## mysql

```
表不是树形结构
oracle 和 postgresql 有查询优化器，会重构sql

线性代数，高数
```

> 表扫描 - 问题描述
```
百万级的mysql性能会下降
表扫描会将每行的地址放入集合

查询某个城市的人，一般会进行一次表扫描
插入数据，一般不会进行表扫描
-> 涉及到表扫描的 -> SELECT(表扫描) UPDATE(表扫描/IO)

两个条件查询 AND
现代化的数据库 -> 查询一张表 -> 扫描表1次，第二次基于第一次扫描
多表查询 -> 会不止扫描一次 -> 容易产生笛卡尔积
```

> 表扫描 - 性能
```
消耗时间 -> 建模
△t - 操作一条记录的时间 例如：1k数据 0.0001ms
一百万数据 - 100 0000 * △t = 100ms


导致问题 -> 不可控
希望随着负载增长，性能需求/负载压力趋于平线

追求的不是速度最快，是可控
```

> mysql结构
```
本身是一张表
根据要建立的索引，生成二叉树 -> 平衡二叉树 -> 红黑树
每一个索引字段，就会生成树

每次检索索引，可以排除一半的数据
```
