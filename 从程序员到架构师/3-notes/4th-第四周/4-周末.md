# 周末

## 腾讯云分享

> 简述
```
10年以上开发经验
腾讯云
架构方面经验
```

> 单体架构 - 微服务
```
差异性
业务划分 高可用性 软件项目 项目规模

单体： // 适合用户量小，几万  
所以的业务聚合在一起
风险比较大
对用来说是一个单例

微服务： // 业务量比较大
每个服务具有独立性
单个服务出现问题，不会造成更大的影响
每个服务的架构可扩展
```

> 有状态 - 无状态
```
一台服务挂了
换一台 无状态
需要迁移数据 有状态
```

> 负载均衡 CLB

> 架构实践
```
1. 灰度
业务角度 - 取一部分用户来尝试上线的修改
系统角度 - 取部分服务器上线


2. 过载
A -> B
call B 
-> 成功
-> 失败返回
-> 失败重试 -> 并发过多
雪崩 熔断

B 不要把我压倒
A 不应该因为后端的失败，使后端操作增加
A 采用熔断
B 干掉队列后面过多的等待


3. 干干净净
误区：得过且过 无能为力 推到重来


4. 便重构边生活
错误观念：没动力 没时间 没胆量 不重构是等死，重构是找死
行动：平滑重构 要求 - 提早考虑，提早安排 风险控制，避免找死 工作安排，共同进退 平滑切换


5. 先抗住再优化
理念：抗住一样做项目
误区：全盘否定 天下无敌 绊手绊脚 尚方宝剑
方法：先建立信任 站稳阵脚 持续优化


6. 大系统小做


7. 观念
优秀的架构师是普通的程序员
普通的程序员是优秀的架构师
```

> 面试相关
```
1. 综合素质
心态、挑战 - 压力测试

2. 技术能力
讲项目 - 认知深度 - 问题与挑战
技术深度 - 例如实现一个spring - 如何分模块分几步 - 知识图谱
广度 - 学习心态，行业了解 - 新技术涉猎
数据结构
```

> java
```
问题定位有一定难度，需要了解底层 - 网络、操作系统
```


## 分片

> 分片之后如何进行二次扩容
```
一次分片时，考虑二次分片
4^n
```